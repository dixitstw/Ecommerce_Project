{"ast":null,"code":"import _regeneratorRuntime from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{productDetails}from\"../api/productAPI\";import{ADD_TO_CART,REMOVE_FROM_CART,EMPTY_CART,UPDATE_CART}from\"./cartConstants\";export var addItemToCart=function addItemToCart(product_id,quantity){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return productDetails(product_id);case 3:data=_context.sent;dispatch({type:ADD_TO_CART,payload:_objectSpread(_objectSpread({},data),{},{quantity:quantity})});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:localStorage.setItem(\"cart_items\",JSON.stringify(getState().cart.cart_items));case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var emptyCart=function emptyCart(){return function(dispatch,getState){dispatch({type:EMPTY_CART});localStorage.setItem(\"cart_items\",JSON.stringify(getState().cart.cart_items));};};export var updateCart=function updateCart(product){return function(dispatch,getState){try{dispatch({type:UPDATE_CART,payload:{product:product}});}catch(error){console.log(error);}localStorage.setItem(\"cart_items\",JSON.stringify(getState().cart.cart_items));};};export var remove_from_cart=function remove_from_cart(id){return function(dispatch,getState){dispatch({type:REMOVE_FROM_CART,payload:id});localStorage.setItem(\"cart_items\",JSON.stringify(getState().cart.cart_items));};};","map":{"version":3,"names":["productDetails","ADD_TO_CART","REMOVE_FROM_CART","EMPTY_CART","UPDATE_CART","addItemToCart","product_id","quantity","dispatch","getState","data","type","payload","console","log","localStorage","setItem","JSON","stringify","cart","cart_items","emptyCart","updateCart","product","error","remove_from_cart","id"],"sources":["/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/src/Components/reducer/cartActions.js"],"sourcesContent":["import { productDetails } from \"../api/productAPI\";\nimport { ADD_TO_CART, REMOVE_FROM_CART, EMPTY_CART, UPDATE_CART } from \"./cartConstants\";\n\nexport const addItemToCart = (product_id, quantity) =>async (dispatch, getState) => {\n    // productDetails(product_id)\n    // .then(data=> {\n    //     if(data.error) {\n    //         console.log(data.error)\n    //     }\n    //     else {\n\n    //     }\n    // })\n    // .catch(error) => console.log(error)\n    try {\n        let data = await productDetails(product_id)\n        dispatch({\n            type: ADD_TO_CART,\n            payload: { \n                ...data,\n                quantity: quantity\n            }\n        })\n    }\n    catch (error){\n        console.log(error)\n    }\n    localStorage.setItem(\"cart_items\", JSON.stringify(getState().cart.cart_items))\n\n}\n\nexport const emptyCart = () => (dispatch, getState) => {\n   dispatch({\n    type: EMPTY_CART\n   }) \n   localStorage.setItem(\"cart_items\", JSON.stringify(getState().cart.cart_items))\n}\n\nexport const updateCart = (product) => (dispatch, getState) => {\n    try {\n        dispatch({\n            type: UPDATE_CART,\n            payload: { \n               product\n            }\n        })\n    }\n    catch (error){\n        console.log(error)\n    }\n    localStorage.setItem(\"cart_items\", JSON.stringify(getState().cart.cart_items))\n\n}\n\nexport const remove_from_cart = (id) => (dispatch, getState)=> {\n    dispatch({\n        type: REMOVE_FROM_CART,\n        payload: id\n    })\n    localStorage.setItem(\"cart_items\", JSON.stringify(getState().cart.cart_items))\n\n}\n"],"mappings":"kcAAA,OAASA,cAAc,KAAQ,mBAAmB,CAClD,OAASC,WAAW,CAAEC,gBAAgB,CAAEC,UAAU,CAAEC,WAAW,KAAQ,iBAAiB,CAExF,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAa,CAAIC,UAAU,CAAEC,QAAQ,mGAAI,iBAAOC,QAAQ,CAAEC,QAAQ,kKAYtDT,eAAc,CAACM,UAAU,CAAC,QAAvCI,IAAI,eACRF,QAAQ,CAAC,CACLG,IAAI,CAAEV,WAAW,CACjBW,OAAO,gCACAF,IAAI,MACPH,QAAQ,CAAEA,QAAQ,EAE1B,CAAC,CAAC,gFAGFM,OAAO,CAACC,GAAG,aAAO,SAEtBC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,EAAE,CAACU,IAAI,CAACC,UAAU,CAAC,CAAC,oEAEjF,qEAED,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAS,SAAS,UAACb,QAAQ,CAAEC,QAAQ,CAAK,CACpDD,QAAQ,CAAC,CACRG,IAAI,CAAER,UACP,CAAC,CAAC,CACFY,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,EAAE,CAACU,IAAI,CAACC,UAAU,CAAC,CAAC,CACjF,CAAC,GAED,MAAO,IAAME,WAAU,CAAG,QAAbA,WAAU,CAAIC,OAAO,QAAK,UAACf,QAAQ,CAAEC,QAAQ,CAAK,CAC3D,GAAI,CACAD,QAAQ,CAAC,CACLG,IAAI,CAAEP,WAAW,CACjBQ,OAAO,CAAE,CACNW,OAAO,CAAPA,OACH,CACJ,CAAC,CAAC,CACN,CACA,MAAOC,KAAK,CAAC,CACTX,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC,CACtB,CACAT,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,EAAE,CAACU,IAAI,CAACC,UAAU,CAAC,CAAC,CAElF,CAAC,GAED,MAAO,IAAMK,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,EAAE,QAAK,UAAClB,QAAQ,CAAEC,QAAQ,CAAI,CAC3DD,QAAQ,CAAC,CACLG,IAAI,CAAET,gBAAgB,CACtBU,OAAO,CAAEc,EACb,CAAC,CAAC,CACFX,YAAY,CAACC,OAAO,CAAC,YAAY,CAAEC,IAAI,CAACC,SAAS,CAACT,QAAQ,EAAE,CAACU,IAAI,CAACC,UAAU,CAAC,CAAC,CAElF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}