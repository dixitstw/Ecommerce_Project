{"ast":null,"code":"import _slicedToArray from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{addCategory,getCategoryDetails,updateCategory}from\"../../../api/categoryAPI\";import{isAuthenticated}from\"../../../api/userAPI\";import Navbar from\"../../Navbar\";import AdminSidebar from\"./AdminSidebar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UpdateCategory=function UpdateCategory(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _isAuthenticated=isAuthenticated(),token=_isAuthenticated.token;var _useState3=useState(''),error=_useState3.error,setError=_useState3.setError;var _useState4=useState(false),success=_useState4.success,setSuccess=_useState4.setSuccess;var _useParams=useParams(),id=_useParams.id;useEffect(function(){getCategoryDetails(id).then(function(data){if(data.error){console.log(data.error);}else{setCategory(data);}});},[]);var handleClick=function handleClick(e){e.preventDefalut();updateCategory(id,category,token).then(function(data){if(data.error){setError(data.Error);setSuccess(false);}else{setSuccess(true);setError('');}});};var showError=function showError(){if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"alert aler-danger\",children:error});}};var showSuccess=function showSuccess(){if(success){return/*#__PURE__*/_jsx(\"div\",{className:\"alert-alert-success\",children:\"Category Updated.\"});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 col-sm-6\",children:/*#__PURE__*/_jsx(AdminSidebar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9 col-sm-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-success text-decoration-ubderline pt-3\",children:\"Add Category\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"w-50 p-5 shadow-lg\",children:[showError(),showSuccess(),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category_name\",children:\"Category Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"category_name\",className:\"form-control\",onChange:function onChange(e){return setCategory(e.target.value);},value:category.category_name}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning w-100 mt-2\",onClick:handleClick,children:\"Update Category\"})]})]})]})})]});};export default UpdateCategory;","map":{"version":3,"names":["React","useEffect","useState","useParams","addCategory","getCategoryDetails","updateCategory","isAuthenticated","Navbar","AdminSidebar","UpdateCategory","category","setCategory","token","error","setError","success","setSuccess","id","then","data","console","log","handleClick","e","preventDefalut","Error","showError","showSuccess","target","value","category_name"],"sources":["/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/src/Components/Layout/Pages/Admin/UpdateCategory.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { addCategory, getCategoryDetails, updateCategory } from \"../../../api/categoryAPI\";\nimport { isAuthenticated } from \"../../../api/userAPI\";\nimport Navbar from \"../../Navbar\";\nimport AdminSidebar from \"./AdminSidebar\";\n\nconst UpdateCategory = () => {\n    let [category, setCategory] = useState('')\n    const {token} = isAuthenticated()\n    let{error, setError} = useState('')\n    let{success, setSuccess} = useState(false)\n\n    const {id} = useParams()\n    \n    useEffect(()=> {\n      getCategoryDetails(id)\n      .then(data => {\n        if(data.error) {\n          console.log(data.error)\n        }\n        else {\n          setCategory(data)\n        }\n      })\n    }, [])\n\n    const handleClick = e => {\n        e.preventDefalut()\n        updateCategory(id, category, token)\n        .then(data=> {\n            if(data.error) {\n                setError(data.Error)\n                setSuccess(false)\n            }\n            else {\n                setSuccess(true)\n                setError('')\n            }\n        })\n    }\n\n    const showError = () => {\n        if(error) {\n            return <div className = 'alert aler-danger'>{error}</div>\n        }\n    }\n\n    const showSuccess = () => {\n        if(success) {\n            return <div className = 'alert-alert-success'>Category Updated.</div>\n        }\n    }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-3 col-sm-6\">\n            <AdminSidebar />\n          </div>\n          <div className=\"col-md-9 col-sm-6\">\n            <h3 className=\"text-success text-decoration-ubderline pt-3\">\n              Add Category\n            </h3>\n\n            <form className=\"w-50 p-5 shadow-lg\">\n                {showError()}\n                {showSuccess()}\n              <label htmlFor=\"category_name\">Category Name</label>\n              <input type=\"text\" id=\"category_name\" className=\"form-control\" onChange = {e=> setCategory(e.target.value)} value = {category.category_name} />\n              <button className=\"btn btn-warning w-100 mt-2\" onClick = {handleClick}>\n                Update Category\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default UpdateCategory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}