{"ast":null,"code":"import _slicedToArray from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{API}from'../../../config';import{getRelatedProducts,productDetails}from'../../api/productAPI';import Footer from'../Footer';import Navbar from'../Navbar';import{Card,CardActionArea,CardActions,CardContent,CardMedia,Rating,Typography,Link}from\"@mui/material\";import{useDispatch}from'react-redux';import{addItemToCart}from'../../reducer/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductDetails=function ProductDetails(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),relatedProducts=_useState4[0],setRelated=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),rating=_useState6[0],setRating=_useState6[1];var _useParams=useParams(),id=_useParams.id;var dispatch=useDispatch();useEffect(function(){productDetails(id).then(function(data){if(data.error){console.log(data);}else{setProduct(data);console.log(data);}});getRelatedProducts(id).then(function(data){if(data.error){console.log(data);}else{setRelated(data);}});},[]);var addToCart=function addToCart(id){return function(e){e.preventDefault();dispatch(addItemToCart(id,1));};};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"conainer mx-auto p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row border rounded-3 shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 p-5\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API,\"/\").concat(product.product_image),className:\"w-100\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 p-5 mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.product_name}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Rs. \",product.product_price]}),/*#__PURE__*/_jsx(\"p\",{children:product.product_description}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"In Stock: \",product.count_in_stock]}),/*#__PURE__*/_jsxs(\"h6\",{children:[\"Rating: \",/*#__PURE__*/_jsx(Rating,{value:product.rating})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:addToCart(product._id),children:\"Add to Cart\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-sm-2 row-cols-md-3 p-5 g-4\",children:relatedProducts&&relatedProducts.map(function(product){return/*#__PURE__*/_jsxs(Card,{sx:{maxWidth:345,borderRadius:5,margin:1},children:[/*#__PURE__*/_jsxs(CardActionArea,{children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"240\",image:\"\".concat(API,\"/\").concat(product.product_image),alt:product.product_name}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:product.product_name}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"text.secondary\",children:[\"Rs. \",product.product_price]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"body2\",component:\"div\",children:[\"In Stock: \",product.count_in_stock]}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"body2\",component:\"div\",children:[\"Rating: \",/*#__PURE__*/_jsx(Rating,{value:product.rating})]})]})]}),/*#__PURE__*/_jsx(CardActions,{children:/*#__PURE__*/_jsx(Link,{href:\"/product/\".concat(product._id),size:\"small\",color:\"primary\",children:\"VIew Details\"})})]},product._id);})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default ProductDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","API","getRelatedProducts","productDetails","Footer","Navbar","Card","CardActionArea","CardActions","CardContent","CardMedia","Rating","Typography","Link","useDispatch","addItemToCart","ProductDetails","product","setProduct","relatedProducts","setRelated","rating","setRating","id","dispatch","then","data","error","console","log","addToCart","e","preventDefault","product_image","product_name","product_price","product_description","count_in_stock","_id","map","maxWidth","borderRadius","margin"],"sources":["/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/src/Components/Layout/Pages/ProductDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useParams, } from 'react-router-dom'\nimport { API } from '../../../config'\nimport { getRelatedProducts, productDetails } from '../../api/productAPI'\nimport Footer from '../Footer'\nimport Navbar from '../Navbar'\nimport {\n    Card,\n    CardActionArea,\n    CardActions,\n    CardContent,\n    CardMedia,\n    Rating,\n    Typography, Link\n  } from \"@mui/material\";\nimport { useDispatch } from 'react-redux'\nimport { addItemToCart } from '../../reducer/cartActions'\nconst ProductDetails = () => {\n    let [product, setProduct] = useState({})\n    let [relatedProducts, setRelated] = useState([])\n    let[rating, setRating] = useState(0)\n    let{id} = useParams()\n\n    const dispatch = useDispatch()\n\n\n\n    useEffect(()=> {\n        productDetails(id)\n        .then(data=> {\n            if(data.error){\n                console.log(data)\n            }\n            else {\n                setProduct(data)\n                console.log(data)\n            }\n        })\n\n        getRelatedProducts(id)\n        .then(data=> {\n            if(data.error){\n                console.log(data)\n            }\n            else {\n                setRelated(data)\n            }\n        })\n    }, [])\n\n    const addToCart = id => e => {\n      e.preventDefault()\n      dispatch(addItemToCart(id, 1))\n    }\n  return (\n    <>\n    <Navbar/>\n\n    <div className = \"conainer mx-auto p-5\">\n        <div className = \"row border rounded-3 shadow-lg\">\n            <div className = 'col-md-6 p-5'>\n                <img src={`${API}/${product.product_image}`} className = 'w-100'/>\n            </div>\n            <div className = 'col-md-6 p-5 mt-5'>\n                <h3>{product.product_name}</h3>\n                <h4>Rs. {product.product_price}</h4>\n                <p>{product.product_description}</p>\n                <h5>In Stock: {product.count_in_stock}</h5>\n                <h6>Rating: <Rating value ={product.rating}></Rating></h6>\n                <button className ='btn btn-warning' onClick = {addToCart(product._id)}>Add to Cart</button>\n\n\n\n            </div>\n\n        </div>\n\n        <div className = 'row row-cols-1 row-cols-sm-2 row-cols-md-3 p-5 g-4'>\n        {\n            relatedProducts && relatedProducts.map((product) => {\n                return <Card sx={{ maxWidth: 345, borderRadius: 5, margin: 1 }} key = {product._id}>\n                <CardActionArea>\n                  <CardMedia\n                    component=\"img\"\n                    height=\"240\"\n                    image={`${API}/${product.product_image}`}\n                    alt={product.product_name }\n                  />\n                  <CardContent>\n                    <Typography gutterBottom variant=\"h5\" component=\"div\">\n                    {product.product_name }\n                    </Typography>\n                    <Typography variant=\"h6\" color=\"text.secondary\">\n                      Rs. {product.product_price}\n                    </Typography>\n                    <Typography gutterBottom variant=\"body2\" component=\"div\">\n                    In Stock: {product.count_in_stock}\n                    </Typography>\n                    <Typography gutterBottom variant=\"body2\" component=\"div\">\n                    Rating: <Rating value = {product.rating}/>\n                    </Typography>\n                  </CardContent>\n                </CardActionArea>\n                <CardActions>\n                  <Link href={`/product/${product._id}`} size=\"small\" color=\"primary\">\n                    VIew Details\n                  </Link>\n                </CardActions>\n              </Card> \n            })\n        }\n        </div>\n    </div>\n\n    <Footer/>\n    </>\n  )\n}\n\nexport default ProductDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}