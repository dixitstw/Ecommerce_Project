{"ast":null,"code":"import _slicedToArray from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useReducer,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{authenticate,isAuthenticated,login}from'../../api/userAPI';import Footer from'../Footer';import Navbar from'../Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Signin=function Signin(){var user_login=isAuthenticated().user;var myUserReducer=function myUserReducer(state,action){return _objectSpread(_objectSpread({},state),{},_defineProperty({},action.target.name,action.target.value));};var _useReducer=useReducer(myUserReducer,{}),_useReducer2=_slicedToArray(_useReducer,2),user=_useReducer2[0],setUser=_useReducer2[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(e){e.preventDefault();login(user).then(function(data){if(data.error){setError(data.error);}else{setSuccess(true);authenticate(data);}});};var showError=function showError(){if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"alert-alert-danger\",children:error});}};var redirect=function redirect(){if(success){if(user_login.role===1){navigate('/admin/dashboard');}else{navigate('/home');}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),showError(),redirect(),/*#__PURE__*/_jsx(\"div\",{className:\"row w-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 col-lg-6 m-auto\",children:/*#__PURE__*/_jsx(\"main\",{className:\"form-signin w-100 m-auto p-5 my-5 shadow-lg\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"mb-4\",src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1QqkYGaGcbG0MjW0-IJG7tczmiR3pAsXJZfzxgbvlJxZ0jx8-64zCPyC6K8fJEEio8W0&usqp=CAU\",alt:\"\",width:\"72\",height:\"57\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"h3 mb-3 fw-normal\",children:\"Please sign in\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"floatingInput\",placeholder:\"name@example.com\",name:\"email\",onChange:setUser}),/*#__PURE__*/_jsx(\"label\",{for:\"floatingInput\",children:\"Email address\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-floating\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"floatingPassword\",placeholder:\"Password\",name:\"password\",onChange:setUser}),/*#__PURE__*/_jsx(\"label\",{for:\"floatingPassword\",children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox mb-3\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:\"remember-me\"}),\" Remember me\"]})}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 btn btn-lg btn-primary\",type:\"submit\",onClick:handleSubmit,children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Do not have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/forgotpassword\",children:\"Forgot Password?\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-5 mb-3 text-muted text-center\",children:\"\\xA9 2017\\u20132022\"})]})})})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Signin;","map":{"version":3,"names":["React","useReducer","useState","Link","useNavigate","authenticate","isAuthenticated","login","Footer","Navbar","Signin","user_login","user","myUserReducer","state","action","target","name","value","setUser","error","setError","success","setSuccess","navigate","handleSubmit","e","preventDefault","then","data","showError","redirect","role"],"sources":["/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/src/Components/Layout/Pages/Signin.js"],"sourcesContent":["import React, { useReducer, useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { authenticate, isAuthenticated, login } from '../../api/userAPI'\nimport Footer from '../Footer'\nimport Navbar from '../Navbar'\n\nconst Signin = () => {\n\n  const user_login = isAuthenticated().user \n  const myUserReducer = (state, action) => {\n    return {...state, [action.target.name]:action.target.value}\n  }\n  const [user, setUser] = useReducer(myUserReducer,{})\n\n    let [error, setError] = useState('')\n    let [success, setSuccess] = useState(false)\n    let navigate = useNavigate()\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(user)\n    .then (data => {\n      if(data.error) {\n        setError(data.error)\n      }\n      else {\n        setSuccess(true)\n        authenticate(data)\n      }\n    })\n  }\n\n  const showError = () => {\n    if(error) {\n      return <div className ='alert-alert-danger'>{error}</div>\n    }\n  }\n\n  const redirect = () => {\n    if(success) {\n      if(user_login.role === 1) {\n        navigate('/admin/dashboard')\n      } else {\n        navigate('/home')\n    }\n  }\n  }\n  return (\n    <>\n\n    <Navbar/>\n    {showError()}\n    {redirect()}\n\n    <div className='row w-100'>\n        <div className='col-md-8 col-lg-6 m-auto'>\n\n    <main className=\"form-signin w-100 m-auto p-5 my-5 shadow-lg\">\n  <form>\n\n    <div className='text-center'>\n    <img className=\"mb-4\" src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1QqkYGaGcbG0MjW0-IJG7tczmiR3pAsXJZfzxgbvlJxZ0jx8-64zCPyC6K8fJEEio8W0&usqp=CAU\" alt=\"\" width=\"72\" height=\"57\"/>\n    <h1 className=\"h3 mb-3 fw-normal\">Please sign in</h1>\n    </div>\n    <div className=\"form-floating\">\n      <input type=\"email\" className=\"form-control\" id=\"floatingInput\" placeholder=\"name@example.com\" name= 'email' onChange = {setUser}/>\n      <label for=\"floatingInput\">Email address</label>\n    </div>\n    <div className=\"form-floating\">\n      <input type=\"password\" className=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" name = 'password' onChange ={setUser}/>\n      <label for=\"floatingPassword\">Password</label>\n    </div>\n\n    <div className=\"checkbox mb-3\">\n      <label>\n        <input type=\"checkbox\" value=\"remember-me\"/> Remember me\n      </label>\n    </div>\n    <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\" onClick = {handleSubmit}>Sign in</button>\n\n    <div className='d-flex justify-content-between'>\n        <p>Do not have an account? <Link to ='/register'>Register</Link></p>\n        <Link to ='/forgotpassword'>Forgot Password?</Link>\n    </div>\n    <p className=\"mt-5 mb-3 text-muted text-center\">&copy; 2017â€“2022</p>\n    </form>\n</main>\n        </div>\n    </div>\n\n\n    <Footer/>\n    </>\n  )\n}\n\nexport default Signin"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}