{"ast":null,"code":"import{API}from\"../../config\";export var register=function register(username,email,password){var user={username:username,email:email,password:password};console.log(user);return fetch(\"\".concat(API,\"/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(function(response){return response.json();}).catch(function(error){console.log(error);});};export var verifyEmail=function verifyEmail(token){return fetch(\"\".concat(API,\"/verification/\").concat(token)).then(function(res){return res.json();}).catch(function(err){return console.log(err);});};export var resendVerification=function resendVerification(email){return fetch(\"\".concat(API,\"/resendverification\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email})}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});};export var forgetPassword=function forgetPassword(email){return fetch(\"\".concat(API,\"/forgetpassword\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email})}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});};export var resetPassword=function resetPassword(token,password){return fetch(\"\".concat(API,\"/resetpassword/\").concat(token),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password})}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});};export var login=function login(user){return fetch(\"\".concat(API,\"/signin\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(user)}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});};export var authenticate=function authenticate(data){localStorage.setItem('jwt',JSON.stringify(data));};export var isAuthenticated=function isAuthenticated(){if(localStorage.getItem('jwt')){return JSON.parse(localStorage.getItem('jwt'));}else{return false;}};export var signOut=function signOut(){localStorage.removeItem('jwt');return fetch(\"\".concat(API,\"/signout\")).then(function(res){return res.json;}).catch(function(err){return console.log(err);});};export var getUserList=function getUserList(){return fetch(\"\".concat(API,\"/getuserlist\")).then(function(res){return res.json();}).catch(function(err){return console.log(err);});};export var changeRole=function changeRole(id,token){return fetch(\"\".concat(API,\"/togglerole/\").concat(id),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){return res.json();}).catch(function(err){return console.log(err);});};","map":{"version":3,"names":["API","register","username","email","password","user","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","catch","error","verifyEmail","token","res","err","resendVerification","forgetPassword","resetPassword","login","authenticate","data","localStorage","setItem","isAuthenticated","getItem","parse","signOut","removeItem","getUserList","changeRole","id","Authorization"],"sources":["/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/src/Components/api/userAPI.js"],"sourcesContent":["import { API } from \"../../config\"\n\nexport const register = (username, email, password) => {\n    let user = {username, email, password}\n    console.log(user)\n\n    return fetch (`${API}/register`,{\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then((response) => {\n        return response.json()\n    })\n    .catch(error =>{\n        console.log(error)\n    })\n}\n\nexport const verifyEmail = (token) => {\n    return fetch (`${API}/verification/${token}`)\n    .then(res=> res.json())\n    .catch(err => console.log(err))\n}\n\nexport const resendVerification = (email)=> {\n    return fetch(`${API}/resendverification`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({email})\n    })\n    .then(res=> res.json())\n    .catch(err => console.log(err))\n}\n\nexport const forgetPassword = (email) => {\n    return fetch(`${API}/forgetpassword`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({email})\n    })\n    .then(res=> res.json())\n    .catch(err => console.log(err))\n}\n\nexport const resetPassword = (token, password) => {\n    return fetch(`${API}/resetpassword/${token}`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({password})\n    })\n    .then(res=> res.json())\n    .catch(err => console.log(err))\n}\n\nexport const login = (user) => {\n    return fetch(`${API}/signin`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n    .then(res=> res.json())\n    .catch(err => console.log(err))\n} \n\nexport const authenticate = (data) =>{\n    localStorage.setItem('jwt', JSON.stringify(data))\n}\n\nexport const isAuthenticated = () => {\n    if(localStorage.getItem('jwt')) {\n        return JSON.parse(localStorage.getItem('jwt'))\n    }\n    else {\n        return false\n    }\n}\n\nexport const signOut = () => {\n    localStorage.removeItem('jwt')\n    return fetch(`${API}/signout`)\n    .then(res => res.json)\n    .catch(err => console.log(err))\n}\n\nexport const getUserList = ()=> {\n    return fetch(`${API}/getuserlist`)\n    .then(res => res.json())\n    .catch(err => console.log(err))\n}\n\nexport const changeRole = (id, token)=> {\n    return fetch (`${API}/togglerole/${id}`, {\n        method: \"GET\",\n        headers: {\n            Authorization: `Bearer ${token}`\n        }\n })\n .then(res => res.json())\n    .catch(err => console.log(err))\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}