{"ast":null,"code":"import _slicedToArray from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import Swal from\"sweetalert2\";import{deleteCategory,getAllCategoires,getAllCategories}from\"../../../api/categoryAPI\";import{isAuthenticated}from\"../../../api/userAPI\";import Navbar from\"../../Navbar\";import AdminSidebar from\"./AdminSidebar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminCategories=function AdminCategories(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _isAuthenticated=isAuthenticated(),token=_isAuthenticated.token;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];useEffect(function(){getAllCategories().then(function(data){if(data.error){console.log(data.error);}else{setCategories(data);}}).catch(function(err){return console.log(err);});},[success]);var handleDelete=function handleDelete(id){return function(e){e.preventDefault();Swal.fire({title:\"Are you sure?\",text:\"You won't be able to revert this!\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"Yes, delete it!\"}).then(function(result){if(result.isConfirmed){deleteCategory(id,token).then(function(data){if(data.error){Swal.fire(\"Error!\",data.error,\"error\");}else{Swal.fire(\"Deleted!\",\"Category has been deleted.\",\"success\");setSuccess(true);}});}else{Swal.fire(\"Cancel\",\"Cancelled by user\",\"info\");}});};};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 col-sm-6\",children:/*#__PURE__*/_jsx(AdminSidebar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9 col-sm-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mt-3 text-success text-decoration-underline\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table w-75 table-bordered text-center table-hover align-middle\",role:\"button\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-dark\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Category Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Action\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[categories&&categories.map(function(category,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:category.category_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/category/update/\".concat(category._id),className:\"btn btn-warning\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil\",children:\"Update\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger\",onClick:handleDelete(category._id),children:[\"Remove\",/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})]})]})})]},category._id);}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colspan:3,children:/*#__PURE__*/_jsx(Link,{to:\"/admin/category/add\",className:\"btn btn-success\",children:\"Add New Category\"})})})]})]})]})]})})]});};export default AdminCategories;","map":{"version":3,"names":["React","useEffect","useState","Link","Swal","deleteCategory","getAllCategoires","getAllCategories","isAuthenticated","Navbar","AdminSidebar","AdminCategories","categories","setCategories","token","success","setSuccess","then","data","error","console","log","catch","err","handleDelete","id","e","preventDefault","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","map","category","index","category_name","_id"],"sources":["/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/src/Components/Layout/Pages/Admin/AdminCategories.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport Swal from \"sweetalert2\"\nimport {\n  deleteCategory,\n  getAllCategoires,\n  getAllCategories,\n} from \"../../../api/categoryAPI\"\nimport { isAuthenticated } from \"../../../api/userAPI\"\nimport Navbar from \"../../Navbar\"\nimport AdminSidebar from \"./AdminSidebar\"\n\nconst AdminCategories = () => {\n  const [categories, setCategories] = useState([])\n  const { token } = isAuthenticated()\n  const [success, setSuccess] = useState(false)\n  useEffect(() => {\n    getAllCategories()\n      .then((data) => {\n        if (data.error) {\n          console.log(data.error)\n        } else {\n          setCategories(data);\n        }\n      })\n      .catch((err) => console.log(err))\n  }, [success])\n\n  const handleDelete = (id) => (e) => {\n    e.preventDefault()\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        deleteCategory(id, token).then((data) => {\n          if (data.error) {\n            Swal.fire(\"Error!\", data.error, \"error\")\n          } else {\n            Swal.fire(\"Deleted!\", \"Category has been deleted.\", \"success\")\n            setSuccess(true)\n          }\n        });\n      } else {\n        Swal.fire(\"Cancel\", \"Cancelled by user\", \"info\")\n      }\n    })\n  }\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-3 col-sm-6\">\n            <AdminSidebar />\n          </div>\n          <div className=\"col-md-9 col-sm-6\">\n            <h3 className=\"mt-3 text-success text-decoration-underline\">\n              Categories\n            </h3>\n            <table\n              className=\"table w-75 table-bordered text-center table-hover align-middle\"\n              role=\"button\"\n            >\n              <thead>\n                <tr className=\"table-dark\">\n                  <td>S.No.</td>\n                  <td>Category Name</td>\n                  <td>Action</td>\n                </tr>\n              </thead>\n              <tbody>\n                {categories &&\n                  categories.map((category, index) => {\n                    return (\n                      <tr key={category._id}>\n                        <td>{index + 1}</td>\n                        <td>{category.category_name}</td>\n                        <td>\n                          <div className=\"btn-group\">\n                            <Link\n                              to={`/admin/category/update/${category._id}`}\n                              className=\"btn btn-warning\"\n                            >\n                              <i className=\"bi bi-pencil\">Update</i>\n                            </Link>\n                            <button\n                              className=\"btn btn-danger\"\n                              onClick={handleDelete(category._id)}\n                            >\n                              Remove<i className=\"bi bi-trash\"></i>\n                            </button>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                <tr>\n                  <td colspan={3}>\n                    <Link\n                      to={\"/admin/category/add\"}\n                      className=\"btn btn-success\"\n                    >\n                      Add New Category\n                    </Link>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AdminCategories;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}