{"ast":null,"code":"import _slicedToArray from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useReducer}from\"react\";import{useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{API}from\"../../../config\";import{isAuthenticated}from\"../../api/userAPI\";import Footer from\"../Footer\";import Navbar from\"../Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Shipping=function Shipping(){var _useSelector=useSelector(function(state){return state.cart;}),cart_items=_useSelector.cart_items;var shippingAddressReducer=function shippingAddressReducer(state,event){return _objectSpread(_objectSpread({},state),{},_defineProperty({},event.target.name,event.target.value));};var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user;var _useReducer=useReducer(shippingAddressReducer,localStorage.getItem(\"shipping_info\")?JSON.parse(localStorage.getItem(\"shipping_info\")):{name:user.username}),_useReducer2=_slicedToArray(_useReducer,2),shipping_info=_useReducer2[0],setShippingInfo=_useReducer2[1];var updateShipping=function updateShipping(e){e.preventDefault();localStorage.setItem(\"shipping_info\",JSON.stringify(shipping_info));};var shipping_address=shipping_info.shipping_address,alternate_shipping_address=shipping_info.alternate_shipping_address,city=shipping_info.city,zipcode=shipping_info.zipcode,country=shipping_info.country,phone=shipping_info.phone;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Shipping Address\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Address\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-2\",id:\"Address\",name:\"shipping_address\",onChange:setShippingInfo,value:shipping_address}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"alternate_shipping_address\",children:\"Alternate Shipping Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",classsName:\"form-control mb-2\",id:\"alternate_shipping_address\",name:\"alternate_shipping_address\",onChange:setShippingInfo,value:alternate_shipping_address}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-2\",id:\"city\",name:\"city\",onChange:setShippingInfo,value:city}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zipcode\",children:\"Zipcode\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-2\",id:\"zipcode\",name:\"zipcode\",onChange:setShippingInfo,value:zipcode}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country\",children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-2\",id:\"country\",name:\"country\",onChange:setShippingInfo,value:country}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mb-2\",id:\"phone\",name:\"phone\",onChange:setShippingInfo,value:phone}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning w-100\",onClick:updateShipping,children:\"Save Shipping Info\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-7 p-5\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Cart Items\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table text-cener table-hover alighn-middle table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-dark\",children:[/*#__PURE__*/_jsx(\"td\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Prodct Image\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Total Price\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[cart_items&&cart_items.map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:i+1}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API,\"/\").concat(item.product_image),alt:item.product_name,style:{height:\"100px \"}})}),/*#__PURE__*/_jsx(\"td\",{children:item.product_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-2\",children:item.quantity})}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Rs. \",item.quantity*item.product_price]})]},item._id);}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{colSpan:4,className:\"text-end\",children:[\"Cart Total:\",\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Rs.\",sessionStorage.getItem(\"total\")]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsx(Link,{to:\"/payment\",className:\"btn btn-warning \",children:\"Proceed to payment.\"})})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Shipping;","map":{"version":3,"names":["React","useReducer","useSelector","Link","API","isAuthenticated","Footer","Navbar","Shipping","state","cart","cart_items","shippingAddressReducer","event","target","name","value","user","localStorage","getItem","JSON","parse","username","shipping_info","setShippingInfo","updateShipping","e","preventDefault","setItem","stringify","shipping_address","alternate_shipping_address","city","zipcode","country","phone","map","item","i","product_image","product_name","height","quantity","product_price","_id","sessionStorage"],"sources":["/home/dipti/Codes/Dursikshya 1-2/REACT/Ecommerce_React_main/src/Components/Layout/Pages/Shipping.jsx"],"sourcesContent":["import React, { useReducer } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { API } from \"../../../config\";\nimport { isAuthenticated } from \"../../api/userAPI\";\nimport Footer from \"../Footer\";\nimport Navbar from \"../Navbar\";\n\nconst Shipping = () => {\n  const { cart_items } = useSelector((state) => state.cart);\n\n  const shippingAddressReducer = (state, event) => {\n    return { ...state, [event.target.name]: event.target.value };\n  };\n  const { user } = isAuthenticated();\n\n  const [shipping_info, setShippingInfo] = useReducer(\n    shippingAddressReducer,\n    localStorage.getItem(\"shipping_info\")\n      ? JSON.parse(localStorage.getItem(\"shipping_info\"))\n      : { name: user.username }\n  )\n\n  const updateShipping = (e) => {\n    e.preventDefault();\n    localStorage.setItem(\"shipping_info\", JSON.stringify(shipping_info));\n  };\n\n  const {\n    shipping_address,\n    alternate_shipping_address,\n    city,\n    zipcode,\n    country,\n    phone,\n  } = shipping_info;\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-md-5\">\n            <form className=\"p-5\">\n              <h3>Shipping Address</h3>\n              <label htmlFor=\"Address\">Address</label>\n              <input\n                type=\"text\"\n                className=\"form-control mb-2\"\n                id=\"Address\"\n                name=\"shipping_address\"\n                onChange={setShippingInfo}\n                value={shipping_address}\n              />\n              <label htmlFor=\"alternate_shipping_address\">\n                Alternate Shipping Address\n              </label>\n              <input\n                type=\"text\"\n                classsName=\"form-control mb-2\"\n                id=\"alternate_shipping_address\"\n                name=\"alternate_shipping_address\"\n                onChange={setShippingInfo}\n                value={alternate_shipping_address}\n              />\n              <label htmlFor=\"city\">City</label>\n              <input\n                type=\"text\"\n                className=\"form-control mb-2\"\n                id=\"city\"\n                name=\"city\"\n                onChange={setShippingInfo}\n                value={city}\n              />\n              <label htmlFor=\"zipcode\">Zipcode</label>\n              <input\n                type=\"text\"\n                className=\"form-control mb-2\"\n                id=\"zipcode\"\n                name=\"zipcode\"\n                onChange={setShippingInfo}\n                value={zipcode}\n              />\n              <label htmlFor=\"country\">Country</label>\n              <input\n                type=\"text\"\n                className=\"form-control mb-2\"\n                id=\"country\"\n                name=\"country\"\n                onChange={setShippingInfo}\n                value={country}\n              />\n              <label htmlFor=\"phone\">Phone Number</label>\n              <input\n                type=\"text\"\n                className=\"form-control mb-2\"\n                id=\"phone\"\n                name=\"phone\"\n                onChange={setShippingInfo}\n                value={phone}\n              />\n              <button\n                className=\"btn btn-warning w-100\"\n                onClick={updateShipping}\n              >\n                Save Shipping Info\n              </button>\n            </form>\n          </div>\n          <div className=\"col-md-7 p-5\">\n            <h3>Cart Items</h3>\n            <table className=\"table text-cener table-hover alighn-middle table-bordered\">\n              <thead>\n                <tr className=\"table-dark\">\n                  <td>S.No.</td>\n                  <td>Prodct Image</td>\n                  <td>Product Name</td>\n                  <td>Quantity</td>\n                  <td>Total Price</td>\n                </tr>\n              </thead>\n\n              <tbody>\n                {cart_items &&\n                  cart_items.map((item, i) => {\n                    return (\n                      <tr key={item._id}>\n                        <td>{i + 1}</td>\n                        <td>\n                          <img\n                            src={`${API}/${item.product_image}`}\n                            alt={item.product_name}\n                            style={{ height: \"100px \" }}\n                          />\n                        </td>\n                        <td>{item.product_name}</td>\n\n                        <td>\n                          <span className=\"px-3 py-2\">{item.quantity}</span>\n                        </td>\n\n                        <td>Rs. {item.quantity * item.product_price}</td>\n                      </tr>\n                    );\n                  })}\n                <tr>\n                  <td colSpan={4} className=\"text-end\">\n                    Cart Total:{\" \"}\n                  </td>\n                  <td>Rs.{sessionStorage.getItem(\"total\")}</td>\n                </tr>\n\n                {/* <tr>\n            <td colSpan ={7} className = 'text-end'>\n              <Link className = 'btn btn-info' to='/checkout'>Proceed to Checkout.</Link>\n            </td>\n          </tr> */}\n              </tbody>\n            </table>\n\n            <div className=\"text-end\">\n              <Link to=\"/payment\" className=\"btn btn-warning \">\n                Proceed to payment.\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Footer />\n    </>\n  );\n};\n\nexport default Shipping;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}